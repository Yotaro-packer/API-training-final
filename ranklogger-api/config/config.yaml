server:
  port: 8080
  db_path: "./game_data.db"
  # サーバー全体のタイムアウト設定（秒）
  read_timeout: 5
  read_limit: 100
  # ブラウザからのアクセスを許可するドメイン（ランキングビューアー用）
  # すべて許可する場合は ["*"]、制限する場合は ["http://localhost:3000"]など
  cors_allow_origins: ["*"]

auth:
  # ゲームクライアント用のAPIキー
  game_api_key: "your-game-client-secret-key"
  # 管理者認証
  # ハッシュ化したパスワードの生成にはtool/passwordHasher.exeを使用
  admin_user: "admin"
  admin_password_hash: "" 

retention:
  # ログの保持期間（日）。この期間を過ぎたログは自動削除対象となる
  # 0 または -1 を指定した場合は「無期限保持（自動削除なし）」として動作
  log_retention_days: 0

rate_limits:
  # IP + UUID単位の制限 (req/min)
  user_limit: 50
  # エンドポイントごとのグローバル制限 (req/min)
  endpoints:
    get_records: 200
    post_records: 200
    get_records_detail: 20
    get_logs: 50
    post_logs: 200
    get_metrics: 20

# ランキングレコードのデータ構造（JSON領域内の要素定義）
# ここで定義したものがDBの仮想列（Virtual Columns）として生成される
record_schema:
  - name: "display_name"
    type: "TEXT"
    is_index: false # ランキング集計対象外（表示用）
    min: 3
    max: 20
  
  - name: "score"
    type: "INTEGER"
    is_index: true
    order: "desc"   # 大きい方が上位
  
  - name: "play_time"
    type: "FLOAT"
    is_index: true
    order: "asc"    # 小さい方（速い方）が上位
    min: 0
  
  - name: "item_count"
    type: "INTEGER"
    is_index: true
    order: "desc"
    min: 0